<nz-content style="padding:0 16px 16px 16px">
  <div nz-row style="background-color: rgb(246,248,248);">
    <div nz-row style="background-color: rgb(246,248,248) ;border-bottom: 1px solid rgb(222,230,231);padding: 8px;" nzType="flex" nzJustify="space-between">
      <div nz-col nzSpan="8" class="title-tab">
        用户管理
      </div>
      <div nz-col nzSpan="8" >
        <div nz-col style="text-align: right">
          <button nz-button nzType="primary" (click)="addUser()" >添加用户</button>
          <nz-input-group nzSearch [nzSuffix]="suffixIconButton" style="padding-left:16px ">
              <input type="text" [(ngModel)]="key" (keyup)="($event.which === 13)?getUserList():0" nz-input placeholder="请输入用户或账号" />
          </nz-input-group>
          <ng-template #suffixIconButton>
            <button nz-button nzType="primary" (click)="getUserList()" nzSearch><i nz-icon type="search"></i></button>
          </ng-template>
        </div>
      </div>
    </div>

    <div nz-row style="background-color: #f5f7fa;padding: 16px 0 0 16px">
      <button nzType="default" (click)="checkAll(checkedAll)" nz-button style="padding-right: 16px" >全选</button>
      <button nz-button [disabled]="disabledButton" [nzType]="'danger'" (click)="delAll(selectedArray)">批量删除</button>
    </div>

    <div nz-row style="padding: 16px 0 0 16px">
      <nz-content *ngFor="let user of userList ">
        <div style="padding: 0 16px 32px 0;float: left;">
          <div class="card-content" [ngClass]="{'card-item-checked':user.checked}">
              <div nz-row style="padding: 8px">
                <div nz-col nzSpan="5" style="text-align: center;padding-top:8px">
                  <nz-avatar nzSize="large" nzSrc="{{user.avatar}}"></nz-avatar>
                </div>
                <div nz-col nzSpan="17">
                  <div nz-row>
                    <span style="font-size: 150%">{{user.userName}}</span>
                  </div>
                  <div nz-row>
                    <span>{{user.userNo}}</span>
                  </div>
                </div>
                <div nz-col nzSpan="2">
                  <div nz-row>
                    <label nz-checkbox (ngModelChange)="updateChecked(user)" [ngModel]="user.checked" ></label>
                  </div>
                  <div nz-row></div>
                </div>
              </div>
              <div nz-row class="card-tabs" >
                <div nz-col nzSpan="24" >
                  <nz-tag [nzColor]="'#f50'" *ngIf="user.isSpaceAdmin==='T'" style="display: inline-block; padding-bottom: 3px">管理员</nz-tag>
                  <nz-tag [nzColor]="role.color" *ngFor="let role of user.roleList" style="display: inline-block; padding-bottom: 3px">{{role.roleName}}</nz-tag>
                </div>
              </div>
              <div nz-row class="card-handle">
                <div nz-col nzSpan="12" style="border-right: solid 1px #cccccc; ">
                  <a><i nz-icon type="edit" (click)="editUser(user)"></i></a>
                </div>
                <div nz-col nzSpan="12">
                  <a><i nz-icon type="delete" (click)="delUser(user)"></i></a>
                </div>
              </div>
            </div>
          </div>
      </nz-content>

    </div>
  </div>
</nz-content>
